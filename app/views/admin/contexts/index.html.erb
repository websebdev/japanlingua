<% content_for :title, "Contexts - JapanLingua Admin" %>

<main class="container mx-auto px-4 py-8">
  <%= render "admin/contexts/breadcrumbs" %>

  <div class="bg-white shadow-md rounded-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
      <h1 class="text-2xl font-bold">Contexts</h1>
      <%#= link_to "New Context", new_admin_context_path, class: "bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300" %>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6">
      <% @contexts.each do |context| %>
        <%= link_to admin_context_path(context), class: "block p-4 bg-gray-50 rounded-lg hover:shadow-md transition duration-300" do %>
          <h2 class="text-xl font-semibold text-gray-800"><%= context.name %></h2>
          <p class="text-gray-600 mt-2"><%= truncate(context.description, length: 100) %></p>
          <div class="mt-4 text-sm text-gray-500">
            <%= pluralize(context.situations.count, 'situation') %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</main>
